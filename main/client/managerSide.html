<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Manager Dashboard</title>
</head>
<body>
    <h1 id="dashboard-title">Manager Dashboard</h1>

    <div>
        <label for="project-select">Select Project:</label>
        <select id="project-select"></select>
    </div>

    <section id="recent-emails-section">
        <h2>Recent Emails</h2>
        <ul id="recent-emails-list"></ul>
    </section>

    <section id="recent-entries-section">
        <h2>Recent Entries by Workers</h2>
        <ul id="recent-entries-list"></ul>
    </section>

    <h2>Project Files & Folders</h2>
    <ul id="file-list"></ul>

    <section id="add-file-section">
        <h2>Add File to Project</h2>
        <form id="add-file-form">
            <select id="file-type-select" required>
                <option value="document">Google Doc</option>
                <option value="spreadsheet">Google Sheet</option>
                <option value="folder">Folder</option>
            </select>
            <input type="text" id="new-file-name" placeholder="File/Folder Name" required />
            <button type="submit">Add</button>
        </form>
        <div id="add-file-result"></div>
    </section>

    <section id="calendar-section">
        <h2>Project Calendar</h2>
        <div style="margin-bottom:10px;">
            <!-- Calendar selection removed: always show the project's calendar -->
            <label for="calendar-start">From:</label>
            <input type="date" id="calendar-start" />
            <label for="calendar-end">To:</label>
            <input type="date" id="calendar-end" />
            <button id="calendar-update-btn" type="button">Show</button>
        </div>
        <iframe id="google-calendar-frame" style="border: 0" width="100%" height="400" frameborder="0" scrolling="no"></iframe>
        <div id="custom-calendar-list-section">
            <h3>Events in Selected Range</h3>
            <ul id="custom-calendar-events-list"></ul>
        </div>
    </section>

    <section id="notepad-section">
        <h2>Manager Notepad (Personal Docs)</h2>
        <form id="notepad-form">
            <textarea id="notepad-input" rows="4" style="width:100%" placeholder="Write a note..."></textarea>
            <button type="submit">Save Note</button>
        </form>
        <div id="notepad-result"></div>
    </section>

    <div id="worker-access-section">
        <h2>Add Worker to Project</h2>
        <form id="add-worker-form">
            <input type="email" id="worker-email" placeholder="Worker Gmail" required />
            <input type="text" id="worker-name" placeholder="First Name" required />
            <input type="text" id="worker-surname" placeholder="Surname" required />
            <button type="submit">Add Worker</button>
        </form>
        <ul id="worker-list"></ul>
        <div id="worker-share-result"></div>
        <ul id="existing-worker-list"></ul>
    </div>


    <button id="open-calendar-event-modal-btn" style="margin-top:20px;">Add Calendar Event</button>

    <!-- Calendar Event Modal -->
    <div id="calendar-event-modal" style="display:none;position:fixed;z-index:1000;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.4);align-items:center;justify-content:center;">
        <div style="background:#fff;padding:24px 32px;border-radius:8px;max-width:400px;width:90%;position:relative;box-shadow:0 2px 16px rgba(0,0,0,0.2);">
            <button id="close-calendar-event-modal-btn" style="position:absolute;top:8px;right:8px;font-size:18px;background:none;border:none;cursor:pointer;">&times;</button>
            <h2>Add Calendar Event</h2>
            <form id="calendar-event-form">
                <label>Title*:<br><input type="text" id="event-title" required style="width:100%"></label><br><br>
                <label>Description:<br><textarea id="event-description" rows="2" style="width:100%"></textarea></label><br><br>
                <label>Location:<br><input type="text" id="event-location" style="width:100%"></label><br><br>
                <label>From*:<br><input type="datetime-local" id="event-start" required style="width:100%"></label><br><br>
                <label>Till*:<br><input type="datetime-local" id="event-end" required style="width:100%"></label><br><br>
                <label><input type="checkbox" id="event-notify"> Notify me by email</label><br><br>
                <button type="submit" style="width:100%;padding:8px 0;">Add Event</button>
            </form>
            <div id="calendar-event-result" style="margin-top:10px;"></div>
        </div>
    </div>

    <button id="switch-to-worker-btn">Switch to Worker View</button>
    <button id="logout-btn">Log Out</button>
    <a href="privacy.html" target="_blank" style="position:absolute;right:10px;top:10px;">Privacy Policy</a>
    <script src="managerSide.js"></script>
</body>
</html>
